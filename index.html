
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Bootstrap core CSS -->
    <link href="/media/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link rel="shortcut icon" href='/media/img/favicon.ico'> 
    <link href="/media/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/media/css/theme.css?v=1">
    <link rel="stylesheet" type="text/css" href="/media/css/amplify.css?v=2">

    <script src="/media/js/jquery-1.11.3.js"></script>
    <script src="/media/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="/media/moment/moment-with-locales.min.js"></script>
    <script src="/media/moment/moment-timezone-with-data.js"></script>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link href="https://live.lifesizecloud.com/media/videojs/video-js.min.css" rel="stylesheet">
    <script src="https://live.lifesizecloud.com/media/videojs/video.min.js"></script>
    <script src="https://live.lifesizecloud.com/media/videojs/videojs-contrib-hlsjs.js"></script>
    <script src="https://live.lifesizecloud.com/media/videojs/hls.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <title>Lifesize Cloud</title>
    <script>
        function getParameterByName(name, url) {
            if (!url) {
                url = window.location.href;
            }
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }
        function changeLocale(ls_locale) {
            token = getParameterByName('token');
            url = '/extension/32298' + '?locale=' + ls_locale;
            if (token) {
                url = url + '&token=' + token;
            }
            window.location.href = url;    
        }
        
    </script>    
    
<script src="/media/videojs/video.min.js"></script>
<script src="/media/videojs/videojs-contrib-hlsjs.js"></script>
<script src="/media/videojs/hls.min.js"></script>
<link rel="stylesheet" type="text/css" href="/media/videojs/video-js.min.css">
<link rel="stylesheet" type="text/css" href="/media/ladda/ladda-themeless.min.css">
<link rel="stylesheet" type="text/css" href="/media/ladda/ladda.min.css">

<link rel="stylesheet" type="text/css" href="/media/css/qna.css?v=2">
<script src="/media/js/qna/twilio-common.min.js"></script>
<script src="/media/js/qna/twilio-ip-messaging.min.js"></script>
<script src="/media/js/qna/angular.min.js"></script>
<script src="/media/js/qna/angular-sanitize.min.js"></script>
<script src="/media/js/qna/qna.js?v=2"></script>
<script src="/media/js/jquery.matchHeight-min.js"></script>

<script type="text/javascript">
    
    function reset_qna_height(on_resize) {
        $(".ls-video-col").matchHeight();
        if(on_resize) {
    
          $("#user_chat").height($("video").height() - 100);
    
        }
    }
    $( window ).resize(function() {
        reset_qna_height(true);
    });
    function call_reset_qna_height() {
       if($("video").height() == 0){
           setTimeout(call_reset_qna_height, 250);
       }
       else {
           reset_qna_height(true);
       }
    }
    
    var ls_event = { "eventDate": 0 ,
                  "domain": "UVC-VC",
                  "source": "",
                  "eventType" : "",
                  "version": 1,
                  "body": {
                     "viewerUUID" : "",
                     "viewerName" : "ismail",
                     "groupUUID"  : "086c16d1-9bcb-4b87-b7a8-9ef174936997",
                     "meetingUUID" : "3017baa0-21d6-4f27-8bb7-cf275fa2f9f3",
                     "recordingUUID" : "47f4357b-44da-403a-9484-b5c21414012c",
                     "streamType" : "LIVE",
                     "sessionID" : "0c5454e7-ba67-4874-a581-dd4472682795",
                     "creationDate" : 1529946609000,
                     "streamBitrate" : 0,
                     "reason" : "",
                     "userAgent": navigator.userAgent,
                     "clientIP": "",
                     "cssConfID": "Yw61_C_2018062512095605628619"
                  }
                };

    var ls_last_event = '';
    var event_q = [];
    var send_events_timer = null;
    var last_playhead_time = 0;
    var ls_err_count = 0;
    var buffer_timer = null;
    var ls_buffer_err_count = 0;
    var video_completed = false;
    var video_complete_handled = false;
    var sent_events = false;
    var isPlaying = false;
    var isWaiting = false;
    var restartedonPlay = false;
    var wasPaused = false;
    var wasRestarted = false;
    function start_events_timer(wait_time) {
        if (sent_events) {
            return;
        }
        if (send_events_timer) {
            clearTimeout(send_events_timer);
        }
        send_events_timer = setTimeout(send_events, wait_time);
    }

    function stream_play() {
        player.play();
    }

    function resetRestart() {
        wasRestarted = false;
        ls_err_count = 0;
        ls_buffer_err_count = 0;
    }

    function stream_restart() {
        if (wasRestarted) {
            return;
        }
        player.pause();
        player.src({type: 'application/x-mpegURL', src: 'https://prodlive-11.lifesizecloud.com/086c16d1-9bcb-4b87-b7a8-9ef174936997/recordings/by-date/2018/06/25/47f4357b-44da-403a-9484-b5c21414012c-12-10/main.m3u8?token=0c5454e7-ba67-4874-a581-dd4472682795'});
        player.load();
        setTimeout(stream_play, 50);
        last_playhead_time = 0;
        wasRestarted = true;
        setTimeout(resetRestart, 10000)
    }
    function ls_video_complete() {
        $("#streamEndModal").modal('hide');
        player.pause();
        player.src({type: 'application/x-mpegURL', src: ''});
        player.load();
        player.controls(false);
        $("#video-message").addClass('ls-finished');
        $("#video-completed-message").show();
        video_complete_handled = true;
        $("video-publish-message").hide();
        $("#stream-header-on").hide();
        $("#video-publish-message").hide();
        $("#stream-header-off").show();
    }
    function check_buffer() {
        if (!isPlaying) {
            ls_buffer_err_count = ls_buffer_err_count + 1;
            buffer_timer = setTimeout(check_buffer, 5000);
        } else {
            ls_buffer_err_count = 0;
        }
        if (ls_buffer_err_count == 3) {
            start_events_timer(500);
        }
    }
    function video_play_timer() {
        if (!player.paused() && (!video_completed)) {
            if ((player.currentTime() - last_playhead_time) > 0.2) {
                last_playhead_time = player.currentTime();
                isPlaying = true;
                ls_err_count = 0;
            } else {
                isPlaying = false;
                ls_err_count = ls_err_count  + 1;
            }
            if (ls_err_count == 5) {
                if (!video_completed) {
                    start_events_timer(100);
                } 
            } 
        }
        if ((video_completed) && (ls_err_count >= 5)) {
            if (!video_complete_handled) {
                ls_video_complete();
            }
        } else {
            setTimeout(video_play_timer, 1000);
        }
    }
    function get_bitrate_by_height() {
        var height = player.videoHeight();
        if (height == 720) {
            return 768;
        }
        if (height == 480) {
            return 512;
        }
        if (height == 360) {
            return 384;
        }
        return 0;
    }
    function add_event(type, reason) {
        ls_last_event = type;
        var cp_event = jQuery.extend({}, ls_event);
        cp_event["eventType"] = type;
        cp_event["eventDate"] = Math.floor(Date.now());
        try {
            cp_event["body"]["streamBitrate"] = get_bitrate_by_height()
        } catch (err) {
            cp_event["body"]["streamBitrate"] = 0;
        }    
        event_q.push(cp_event);
    }

    function send_events() {
        if (event_q.length == 0) {
            if (isPlaying) {
                add_event('AMPLIFY_PLAYING', '');
            } else if (isWaiting) {
                add_event('AMPLIFY_BUFFERING', '');
            }
        }
        if (video_complete_handled) {
            return;
        }  
        var event_q_old = jQuery.extend([], event_q);
        event_q = [];
        sent_events = true;
        $.ajax({
            method: "POST",
            url: "/event/47f4357b-44da-403a-9484-b5c21414012c?token=0c5454e7-ba67-4874-a581-dd4472682795",
            dataType: "json", 
            data: { 'data' : JSON.stringify(event_q_old) },
            success: function(data, textStatus, xhr) {
                event_q_old = [];
                sent_events = false;
                if (!data['status']) {
                    ls_err_count = 6;
                    ls_buffer_err_count = 0;
                    if (video_completed) {
                        start_events_timer(60000);
                    } else {
                        start_events_timer(1000);
                    }
                    video_completed = true;
                }
                else {
                    if ((ls_err_count > 5) || (ls_buffer_err_count > 1)) {
                        stream_restart();
                        ls_err_count = 0;
                        ls_buffer_err_count = 0;
                    }
                    update_playback_count(data['count']);
                    ls_err_count = 0;
                    start_events_timer(60000);
                }
            },
            error: function (xhr, ajaxOptions, thrownError) {
                sent_events = false;
                event_q = jQuery.merge(event_q, event_q_old);
                event_q_old = [];
                start_events_timer(60000);
            }
        });
    };
    
    moment.defineLocale('en', {
             calendar : {
                lastDay : "[ Yesterday at ] LT z",
                sameDay : "[ Today at ] LT z"
                }
            });
    var start_time = moment(1529946609000).calendar(1529946609000) + " " + moment().tz(moment.tz.guess()).format('z');

    function numberWithCommas(x) {
        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    function update_playback_count(num) {
        $("#video-viewer-count").html(numberWithCommas(num) + " " + "viewing");
    }

    function publish_stream_moderator() {
        $("#publish-stream-form").submit();
    }

    function reset_restartedonPlay() {
        restartedonPlay = false;
    }

    function restart_on_play() {
        if (restartedonPlay) {
            return;
        }
        if (wasPaused) {
            restartedonPlay = true;
            player.src({type: 'application/x-mpegURL', src: 'https://prodlive-11.lifesizecloud.com/086c16d1-9bcb-4b87-b7a8-9ef174936997/recordings/by-date/2018/06/25/47f4357b-44da-403a-9484-b5c21414012c-12-10/main.m3u8?token=0c5454e7-ba67-4874-a581-dd4472682795'});
            player.load();
            setTimeout(stream_play, 50);
            last_playhead_time = 0;
            wasPaused = false;
            setTimeout(reset_restartedonPlay, 5000);
        }
    }

    function end_stream_temp() {
        $("#streamEndModal").modal('show');
    }

    function end_stream() {
        $("#streamEndModal").modal('hide');
        var l_button = Ladda.create( document.querySelector( '#id_publish_stream'  ) );
        l_button.start();
        $.ajax({
            url: "/stopcall/32298",
            dataType: "json",
            success: function(data, textStatus, xhr) {
                if (data.status == 1) {
                } else {
                    Ladda.stopAll();
                }
            },
            error: function (xhr, ajaxOptions, thrownError) {
                Ladda.stopAll();
            }
        });
    }

    $( document ).ready(function() {
        $("#streamEndModal").modal('hide');
        $("#video-start-time").html(start_time);
        update_playback_count(2);

        player.on('play', function(e) {
            add_event('AMPLIFY_PLAY', '');
            isPlaying = true;
            isWaiting = false;
            restart_on_play();
        });
        player.on('pause', function(e) {
            add_event('AMPLIFY_PAUSE', '');
            wasPaused = true;
            isPlaying = true;
            isWaiting = false;
        });
        player.on('ended', function(e) {
            ls_video_complete();
            isPlaying = false;
            isWaiting = false;
            add_event('AMPLIFY_STOP', '');
        });
        player.on('waiting', function(e) {
            isPlaying = false;
            isWaiting = true;
            if (buffer_timer) {
                ls_buffer_err_count = 0;
                clearTimeout(buffer_timer); 
            }
            buffer_timer = setTimeout(check_buffer, 5000);
        });
        player.on('error', function(e) {
            isPlaying = false;
            isWaiting = false;
            add_event('AMPLIFY_ERROR', '');
        });

        
        reset_qna_height(false);
        

        start_events_timer(10000);
        setTimeout(video_play_timer, 1000);
        
        setTimeout(call_reset_qna_height, 250);
        
    });
</script>

</head>
<body>
    
    <div id="wrap">
    
        <header>
    <nav class="navbar navbar-default">

        <div class="navbar-header pull-left">
            <a class="navbar-brand" href="#">
                <img src="/media/img/header_logo.png" />
            </a>
        </div>
        <div class="navbar-header pull-right">
            <ul class="lifesize-header-right">
                <li class="lifesize-menu-item-help">
                    <a href="//www.lifesize.com/en/cloud-help" target="_blank" class="help-menu-item lifesize-help">
                        <i class="fa fa-question-circle-o"></i>
                    </a>
                </li>

                <li class="dropdown lifesize-menu-item">
                    <a href="#" class="dropdown-toggle lifesize-locale" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                        English
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu lifesize-locale-dropdown">
                        <li id="lang-sv">
                            <a onclick="changeLocale('cs')">Čeština</a>
                        </li>
                        <li id="lang-de">
                            <a onclick="changeLocale('de')">Deutsch</a>
                        </li>
                        <li id="lang-en">
                            <a onclick="changeLocale('en')">English</a>
                        </li>
                        <li id="lang-es">
                            <a onclick="changeLocale('es')">Español</a>
                        </li>
                        <li id="lang-fr">
                            <a onclick="changeLocale('fr')">Français</a>
                        </li>
                        <li id="lang-it">
                            <a onclick="changeLocale('it')">Italiano</a>
                        </li>
                        <li id="lang-sv">
                            <a onclick="changeLocale('nl')">Nederlands</a>
                        </li>
                        <li id="lang-no">
                            <a onclick="changeLocale('no')">Norsk</a>
                        </li>
                        <li id="lang-pl">
                            <a onclick="changeLocale('pl')">Polski</a>
                        </li>
                        <li id="lang-ja">
                            <a onclick="changeLocale('pt-br')">Português-Brasil</a>
                        </li>
                        <li id="lang-fi">
                            <a onclick="changeLocale('fi')">Suomi</a>
                        </li>
                        <li id="lang-sv">
                            <a onclick="changeLocale('sv')">Svenska</a>
                        </li>
                        <li id="lang-zh">
                            <a onclick="changeLocale('zh-cn')">简体中文</a>
                        </li>
                        <li id="lang-ja">
                            <a onclick="changeLocale('ja')">日本語</a>
                        </li>
                        <li id="lang-ko">
                            <a onclick="changeLocale('ko')">한국어</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>
</header>
        

<div class="ls-video-left ls-video-header">
    <h3 class="ls-meeting-name">Qleek</h3>
    <ul id="stream-header-off" class="ls-video-meta" style="display: none;">
        <li class="ls-streaming-stop-indicator">
            <p><img src="/media/img/broadcast-grey.png" />
            Streaming Offline</p>
        </li>
    </ul>
    <ul id="stream-header-on" class="ls-video-meta" >
        <li class="ls-streaming-indicator">
            <p><img src="/media/img/broadcast.png" />
            Streaming Live</p>
        </li>
        <li>
            <p id="video-start-time"></p>
        </li>
        <li>
            <p id="video-viewer-count">0 viewing</p>
        </li>
    </ul>
</div>

<div id="video-message" class="ls-video-left ls-message-div">
    
    
    <ul id="video-completed-message" class="video-completed-message" style="display: none;">
        <li>
            <p><img src="/media/img/broadcast-white.png" />
        </li>
        <li class="video-end-message">
            
            <p>The Live Stream has now ended.</p><p class="video-end-thanks">Thank you for watching.</p>
            
        </li> 
    </ul>    
</div>
<div class="ls-video-left ls-video-block row">
    <div id="ls_video_container" class="ls-video-with-qna ls-video-col col-sm-7 col-md-8 col-lg-offset-1 col-lg-7 col-xs-12">
        <video id="ls-video" class="video-js vjs-default-skin vjs-16-9" controls>
            <source src="https://prodlive-11.lifesizecloud.com/086c16d1-9bcb-4b87-b7a8-9ef174936997/recordings/by-date/2018/06/25/47f4357b-44da-403a-9484-b5c21414012c-12-10/main.m3u8?token=0c5454e7-ba67-4874-a581-dd4472682795" type="application/x-mpegURL">
        </video>
        <script>
        var player = videojs('ls-video', {
            autoplay: true,
            html5: {
                hlsjsConfig: {
                    debug: false
                }
            }
        });
        </script>
    </div>
    
        

<div class = "qna-div ls-video-col col-sm-5 col-md-4 col-xs-12 hidden-xs" ng-app="qnaApp">

     <input type="hidden" id="meeting_uuid" value="3017baa0-21d6-4f27-8bb7-cf275fa2f9f3">
     <input type="hidden" id="user_uuid" value="96f507bf-b926-40fe-a884-61b18a037785">
     <input type="hidden" id="user_name" value="ismail">
     <input type="hidden" id="recording_uuid" value="47f4357b-44da-403a-9484-b5c21414012c">
     <input type="hidden" id="role" value=guest>
     <input type="hidden" id="token" value=0c5454e7-ba67-4874-a581-dd4472682795>
     <input type="hidden" id="extension" value=32298>
     <input type="hidden" id="tslocale" value=en>
     <section ng-if="show_mod_chat" ng-controller="modChatController" ng-init="set_qna_enabled(1)">
         <div class = "qna-title">
              <span class="qna-title-text">Questions</span>
              <span ng-class="pop_out_class" ng-if="!0"><a href="#" ng-click="pop_out($event)"><i class="fa fa-external-link"></i></a><span>
         </div>
         <ul class="nav nav-tabs">
             <li class="active"><a href="#tab_mq" ng-click="pending_count = 0; pending_active = true" data-toggle="tab">Pending<span class="badge pending" ng-if="pending_count && !pending_active">[[ pending_count ]]</span></a></li>
             <li ><a href="#tab_qna" ng-click="pending_active = false" data-toggle="tab">Published</a></li>
             <!-- <li class="active"><a href="#tab_vl" ng-click="pending_active = false" data-toggle="tab">Viewers</a></li> -->
         </ul>
         <div class="tab-content" id="qna_tab_content" style="height: 100%;">
              <div class="tab-pane active" id="tab_mq" style="height: 100%;">
                 <div id="moderator_questions" class="moderator-full-tab">
                  <div ng-if="show_pre_chat_message" class="service-message"><p>Questions will open automatically when you start streaming.</p></div>
                  <div ng-if="show_chat_error_message" class="service-message"><p>The Question service is currently offline.<p>Please wait. It will start automatically when available.</p></div>
                  <div ng-if="!qna_enabled" class="service-message"><p>Questions will open automatically when you start streaming.</b></p></div>
                  <div ng-class="message_container_class" ng-repeat="question_message in modQuestions">
                       <div class="pull-right qna-timestamp">[[ question_message.ls_timestamp ]]</div>
                       <div class="username">[[ question_message.attributes.author ]]</div>
                       <div class="role role-guest" ng-if="question_message.attributes.role == 'guest'">Guest</div>
                       <div class="qna-message message-user" ng-bind-html="question_message.body | linky:'_blank'"></div>
                       <div class="action-container">
                         <span class="glyphicon glyphicon-remove reject-shape"></span>
                         <span><a href="#" style="color: #4b4f54;padding-left: 4px;" ng-click='remove($event, question_message)'>Reject</a></span>
                         <span class="glyphicon glyphicon-ok approve-shape"></span>
                         <span><a href="#" style="color: #4b45da;padding-left: 12px;" ng-click='approve($event, question_message)'>Approve</a></span>
                       </div>
                  </div>
                 </div>
              </div>
              <div class="tab-pane" id="tab_qna" style="height: 100%;">
                 <div ng-if="show_pre_chat_message" class="service-message"><p>Questions will open automatically when you start streaming.</p></div>
                 <div id="moderator_chat_text">
                     <div class="qna-ask">
                        <textarea rows="4" cols="50" id="mod-chat-text" class="qna-ask-input" ng-model="message_text" ng-keyup="send($event)" maxlength="250" placeholder='Type here' ng-disabled="askDisabled" autofocus></textarea>
                        <div class="ask-button-div">
                            <button id="user-ask-button" class="btn btn-default ask-button pull-right" ng-disabled="askDisabled" ng-click="send($event)">Send</button>
                        </div> 
                     </div>
                 </div>
                 <div class="line-gap"></div>
                 <div id="approved_qna" class="moderator-qna-messages">
                     <div ng-if="show_pre_chat_message" class="service-message"><p>Questions will open automatically when you start streaming.</p></div>
                     <div ng-if="show_chat_error_message" class="service-message"><p>The Question service is currently offline.<p>Please wait. It will start automatically when available.</p></div>
                     <div ng-if="!qna_enabled" class="service-message"><p>The stream is not yet open for viewing.</p><p>To share the stream, click <b>Enable Viewing</b></p></div>
                     <div class="message-container" ng-repeat="message in userChatMessages">
                       <div class="pull-right qna-timestamp" ng-class="message.ts_class">[[ message.timestamp ]]</div>
                       <div ng-class="message.author_class">[[ message.author ]]</div>
                       <div class="role role-moderator" ng-if="message.role == 'moderator' && !message.self">Moderator</div>
                       <div ng-class="message.guest_role_class" ng-if="message.role == 'guest'">Guest</div>
                       <div ng-class="message.message_class" ng-bind-html="message.body | linky:'_blank'"></div>
                     </div>
                 </div>
              </div>
              <!-- <div class="tab-pane" id="tab_vl" style="height: 100%;">
                 <div id="roster" class="moderator-full-tab">
                    <div ng-if="show_pre_chat_message" class="service-message"><p>Questions will open automatically when you start streaming.</p></div>
                    <div class="viewer-container" ng-repeat="viewer in members">
                       <div class="viewer-name" ng-class="{'viewer-name-user': viewer.role == 'user'}">[[ viewer.name ]]</div>
                       <div class="viewer-role role-moderator" ng-if="viewer.role == 'moderator'">Moderator</div>
                       <div class="viewer-role role-guest" ng-if="viewer.role == 'guest'">Moderator</div>
                    </div>
                 </div>
              </div> -->
         </div>
     </section>
     <section ng-if="show_user_chat">
         <div class = "qna-title"><div class="qna-title-text">Questions</div></div>
         <div id="user_chat_text" ng-controller="userChatInputController" ng-if="show_user_chat" ng-init="set_auto_approve(0)">
             <div class="qna-ask">
                <textarea rows="4" cols="50" id="mod-chat-text" class="qna-ask-input" ng-model="message_text" ng-keyup="send($event)" maxlength="250" placeholder='Type here' ng-disabled="askDisabled" autofocus></textarea>
                <div class="ask-button-div">
                    <span ng-if="show_pending_message" class="service-message pending-message">Your question has been sent to the moderator.</span>
                    <button id="user-ask-button" class="btn btn-default ask-button pull-right" ng-disabled="askDisabled" ng-click="send($event)">Send</button>
                </div> 
             </div>
         </div>
         <div class="line-gap"></div>
         <div id="user_chat" class="viewer-qna-messages" ng-controller="userChatController" ng-if="show_user_chat" ng-init="set_qna_enabled(1)">
             <div ng-if="show_chat_ended_message" class="service-message"><p>The moderator is no longer accepting questions.</p></div>
             <div ng-if="show_chat_error_message" class="service-message"><p>The Question service is currently offline.<p>Please wait. It will start automatically when available.</p></div>
             <div class="message-container" ng-repeat="message in userChatMessages">
               <div class="pull-right qna-timestamp" ng-class="message.ts_class">[[ message.timestamp ]]</div>
               <div ng-class="message.author_class">[[ message.author ]]</div>
               <div class="role role-moderator" ng-if="message.role == 'moderator'">Moderator</div>
               <div ng-class="message.guest_role_class" ng-if="message.role == 'guest'">Guest</div>
               <div ng-class="message.message_class" ng-bind-html="message.body | linky:'_blank'"></div>
             </div>
             <div ng-if="show_pre_chat_message" class="service-message"><p>The moderator has not yet opened the floor for questions.</p></div>
             <div ng-if="show_chat_started_message" class="service-message"><p>The moderator has opened the floor for questions.</p></div>
         </div>
     </section>
</div>

    
</div>
<div class="modal fade" id="streamEndModal" tabindex="-1" role="dialog" aria-labelledby="streamEndModalLabel">
  <div class="ls-modal-dialog modal-dialog" role="document">
    <div class="modal-content">
      <div class="ls-modal-header modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="ls-modal-title modal-title" id="myModalLabel">End Stream</h4>
      </div>
      <div class="ls-modal-body modal-body">
         Are you sure you want to end the stream now?
      </div>
      <div class="ls-modal-footer modal-footer">
        <button type="button" class="ls-button-cancel btn btn-default" data-dismiss="modal">No, keep streaming</button>
        <button type="button" class="ls-button-stream-end btn btn-primary" onclick="end_stream()">End Stream</button>
      </div>
    </div>
  </div>
</div>
<script src="/media/ladda/spin.min.js"></script>
<script src="/media/ladda/ladda.min.js"></script>
<script src="/media/ladda/ladda.jquery.min.js"></script>

    </div>
     
<footer id="footer" class="clearfix ls-footer">
    <div class="container-fluid">
        <div class="footer">
            <p>
                © 2018 Lifesize, Inc. All rights reserved. <a href="https://www.lifesize.com/en/company/legal-notices/privacy" target="_blank">Privacy Policy</a> | <a href="https://www.lifesize.com/~/media/Documents/Other%20Documents/Legal%20Compliance/End%20User%20License%20Agreements/Lifesize%20Cloud%20Terms%20of%20Service%20TOS.ashx?la=en" target="_blank">Terms of Service</a>
            </p>
        </div>
    </div>
</footer>

</body>
</html>


<!-- <!DOCTYPE html>
<html>

<head>
    <style type="text/css">
    .resp-container {
        position: relative;
        overflow: hidden;
        padding-top: 56.25%;
    }

    @media (min-width: 768px) .container {
        max-width: 100%;
    }

    .shadow {
        -webkit-box-shadow: 10px 10px 20px 0 rgba(94, 47, 59, 0.2);
        -moz-box-shadow: 10px 10px 20px 0 rgba(94, 47, 59, 0.2);
        box-shadow: 10px 10px 20px 0 rgba(94, 47, 59, 0.2);
    }

    .resp-iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
    }
    </style>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link href="https://live.lifesizecloud.com/media/videojs/video-js.min.css" rel="stylesheet">
    <script src="https://live.lifesizecloud.com/media/videojs/video.min.js"></script>
    <script src="https://live.lifesizecloud.com/media/videojs/videojs-contrib-hlsjs.js"></script>
    <script src="https://live.lifesizecloud.com/media/videojs/hls.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="row justify-content-md-center text-center p-0">
            <div class="w-100">
                <h4 class="mt-5">
					Maddiffusion
				</h4>
                <div class="embed-responsive embed-responsive-16by9">
                    <iframe class="mt-3 embed-responsive-item shadow" src="https://vc.lifesizecloud.com/api/v1/cloud-api/embed/cea2902d-8de0-4df5-b66c-11959014d5bc?accesstoken=cba51003-24bc-463b-8655-d4dfe41c7657" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>
</body>

</html> -->